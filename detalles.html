<!DOCTYPE html>
<html>
<head>
    <title>detalle</title>
</head>
<body>

    <!-- contenedor donde se mostrara el personaje -->
    <div id="detalle"></div>

    <script>
        // referencia al contenedor
        const container = document.getElementById('detalle');

        // obtiene y muestra el personaje segun la url
        async function getCharacter() {

            // obtiene parametros de la url
            const params = new URLSearchParams(window.location.search);
            const name = params.get('name');

            // peticion a la api
            const response = await fetch('https://hp-api.onrender.com/api/characters');
            const data = await response.json();

            console.log("nombre recibido:", name);
            
            // busca el personaje por nombre
            const character = data.find(c => c.name === name);

            if (character) {
                // renderiza informacion del personaje
                container.innerHTML = `
                    <h1>${character.name}</h1>
                    <img src="${character.image}" width="300">
                    <p><b>nombres alternativos:</b> 
                        ${character.alternate_names.length > 0 
                            ? character.alternate_names.join(", ")
                            : "ninguno"}
                    </p>
                `;
            } else {
                // mensaje si no existe
                container.innerHTML = "<h2>no se encontro el personaje</h2>";
            }
        }

        // ejecuta la funcion al cargar
        getCharacter();
    </script>

</body>
</html>
